<style>
    .contentwarper{
        width: 1200px;
        margin: 0 auto;
        color: #908E8E;
    }
   .contentnav{
       width: 1200px;
       margin-top: 15px;
       min-height: 120px;
       padding-bottom: 30px;
       border: 1px solid #eeeeee;
       margin-bottom: 30px;
   }
   .contentnav>ul{
       width: 100%;
       padding-left: 30px;
       min-height: 80px;
       border-bottom: 1px dotted gainsboro;
   }
   .contentnav>ul>li{
       width: 80px;
       height: 30px;
       line-height: 39px;
       float: left;
       margin-right: 30px;
   }
    .pageing{
        width: 1200px;
        margin: 0 auto;
        height:80px;
        margin-bottom: 60px;
    }
    #pagination {
        margin-left: 415px;
    }
    .pagination>li>a{
        margin-right: 8px;
    }
    .shopcomment{
        height: 70px;
        border-bottom: 2px solid gainsboro;
    }
    .shopcomment h3{
        margin-left: 30px;
        height: 70px;
        line-height: 70px;
        color: #000;
    }
    .commentcontent{
        height: 130px;
    }
    .commentcontent>div{
       float: left;
        height: 130px;
    }
    .goodrate{
        height: 130px;
    }
    .goodrate>div{
        width: 170px;
        text-align: center;
    }
    .goodratetitle{
        font-size: 24px;
        margin: 20px 0 4px 0;
        color: #8a8a89;
    }
    .goodratenum{
        font-size: 38px;
        color: #da2f2f;
    }
    .commentscore{
        font-size: 22px;
        width: 200px;
        text-align: center;
    }
    .commentscore>div{
        margin-top: 20px;
    }
    .commenttype>ul{
        margin-left: 30px;
        width: 700px;
        margin-top: 16px;
    }
    .commenttype>ul>li{
        width: 50%;
       float: left;
        font-size: 18px;
        line-height: 40px;
    }
    .choosecomment{
        width: 100%;
        padding-left: 4%;
        height: 40px;
        background-color: #f0f0f0;
        border: 2px solid #c8c8c8;
        padding-top: 10px;
    }
    .choosecomment>input{
        width: 20px !important;
        height: 20px !important;
        min-width:20px !important;
        float: left;
        margin-right: 10px;
        margin-top: -2px;
    }
    .choosecomment>label{
        float: left;
        margin-right:50px;
        font-weight: 500;
    }
    .commentline{
        margin: 50px 0 20px 0;
        font-size: 16px;
        border-bottom: 1px solid #c8c8c8;
    }
    .commentline>div{
        display: inline-block;
    }
    .commenter{
        width: 240px;
        margin-right: 4px;
        float: left;
    }
    .commenter>img{
        display: block;
        width: 100px;
        height: 100px;
        border-radius: 50px;
        margin: 0 auto;
    }
    .commenter>div{
        width: 240px;
        text-align: center;
        height: 34px;
        line-height: 34px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    .spcificcomment{
        width: 950px;
    }
    .spcificcomment>img{
        width: 140px;
        height: 26px;
    }
    .commentdetail{
        line-height: 28px;
        margin-top: 20px;
    }
    .minheight{
        min-height: 82px;
    }
    .maxheight{
        overflow: hidden;
        text-overflow: ellipsis;
        overflow : hidden;
        display: -webkit-box;
        -webkit-line-clamp: 4;
        -webkit-box-orient: vertical;
        max-height: 110px;
    }
    .commentimg{
        height: 80px;
        margin: 15px 0;
    }
    .spcificcomment>span{
        margin-right: 20px;
    }
    .commentimg>a>img{
        margin-right: 15px;
        width: 80px;
        height: 80px;
    }
    .replay{
        float: right;
        cursor: pointer;
    }
    .replaycontent{
        height: 44px;
        border-bottom: 1px solid #c8c8c8;
    }
    .replaycontent>span{
        margin-right: 10px;
    }
    .replay>span{
        float: left;
        margin-left: 10px;
    }
    .replayicon{
        background: url(/themes/lanmai/images/shopcenter.png) 388px -722px;
        width: 40px;
        height: 40px;
        margin-top: -7px;
        cursor: pointer;
    }
    .replaydetail,.replaydetail2{
        padding: 8px 0;
        line-height: 28px;
    }
    .replaydetail>textarea{
        padding-top: 4px;
        height: 70px;
        width: 90%;
        padding-left: 5px;
        border: 1px solid gainsboro !important;
    }
    .replayword{
        float: right;
        width: 60px;
        text-align: center;
        height: 30px;
        line-height: 30px;
        color: #fff;
        background-color: #da2f2f;
        border: 1px solid #da2f2f;
        border-radius: 3px;
        margin-top: 36px;
        cursor: pointer;
    }
</style>
<div ng-controller="shopComment">
    <div class="headnav">
        <div>
            <div><a href="/users/shopSpecific1?id=<%=companyInfo.user%>">首页</a></div>
            <div><a href="/users/shopSpecific2?id=<%=companyInfo.user%>">全部资源</a></div>
            <%if(companyInfo.businessScope){for(var i=0;i<companyInfo.businessScope.length;i++){%>
            <%for(var j=0;j<categorySettingList.length;j++){if(categorySettingList[j].category.name==companyInfo.businessScope[i]){%>
            <div onclick="window.location.href='/users/shopSpecific2?id=<%=companyInfo.user%>'"><a><%=companyInfo.businessScope[i]%></a></div>
            <%}}%>
            <%}}%>
            <div><a href="/users/shopcomment?id=<%=companyInfo.user%>">企业评价</a></div>
        </div>
    </div>
    <%if(!scoreCount==0){%>
    <div class="contentwarper">
        <div class="shopcomment">
            <h3>企业评价（<%=scoreCount%>）</h3>
        </div>
        <div class="commentcontent">
            <div class="goodrate">
                <div>
                    <div class="goodratetitle">好评率</div>
                    <div class="goodratenum"><%if(scoreCount<10){%>
                        99%
                        <%}else {%>
                        <%=goodRate%>%
                        <%}%>
                    </div>
                </div>
            </div>
            <div class="commentscore">
                <div>企业动态评分</div>
            </div>
            <div class="commenttype">
                <ul>
                    <li>产品质量：<%=avequality%>分</li>
                    <li>描述相符：<%=avedescribe%>分</li>
                    <li>服务态度：<%=aveattitude%>分</li>
                    <li>交付速度：<%=avespeed%>分</li>
                </ul>
            </div>
        </div>
        <div class="choosecomment">
            <input  type="radio" name="commenttype" id="allcomment" checked value="全部" ng-click="changeType('1')"> <label for="allcomment" >全部（<%=scoreCount%>）</label>
            <input  type="radio" name="commenttype" id="imgcomment"  value="图片" ng-click="changeType('2')"> <label for="imgcomment" >图片（<%=scoreHasImgCount%>）</label>
            <input  type="radio" name="commenttype" id="badcomment"  value="差评" ng-click="changeType('3')"> <label for="badcomment" >差评（<%=scoreCount-goocount%>）</label>
        </div>
        <div class="commentlist" ng-cloak="">
            <div class="commentline" ng-repeat="item in dataList">
                <div class="commenter">
                    <img ng-src="{{item.company.companyLogo}}" ng-if="!item.anonymous"/>
                    <img src="https://cdn.adquan.net/images/def-img/company-logo.png" ng-if="item.anonymous"/>
                    <div title="{{item.company.companyName}}"  ng-if="!item.anonymous">{{item.company.companyName}}</div>
                    <div title="匿名评价"  ng-if="item.anonymous">*****</div>
                    <!--<div>品牌推广会员</div>-->
                </div>
                <div class="spcificcomment">
                    <img src="/themes/lanmai/images/fivestar.png" ng-if="item.quality+item.describe+item.attitude+item.speed>16"/>
                    <img src="/themes/lanmai/images/fourstar.png" ng-if="item.quality+item.describe+item.attitude+item.speed>12&&item.quality+item.describe+item.attitude+item.speed<=16"/>
                    <img src="/themes/lanmai/images/threestar.png" ng-if="item.quality+item.describe+item.attitude+item.speed>8&&item.quality+item.describe+item.attitude+item.speed<=12"/>
                    <img src="/themes/lanmai/images/twostar.png" ng-if="item.quality+item.describe+item.attitude+item.speed>4&&item.quality+item.describe+item.attitude+item.speed<=8"/>
                    <img src="/themes/lanmai/images/onestar.png" ng-if="item.quality+item.describe+item.attitude+item.speed<4"/>
                    <div class="commentdetail maxheight" ng-class="{'minheight':!item.images.length>0}" title="{{item.details}}">{{item.details}}</div>
                    <div class="commentimg" ng-if="item.images.length>0">
                        <a href="{{img}}" target="_blank"  ng-repeat="img in item.images"><img ng-src="{{img}}"/></a>
                    </div>
                    <div class="replaycontent">
                        <span>{{item.tender.title}}   </span><span>   {{item.createdAt|date:"yyyy-MM-dd hh:mm"}}</span>
                        <div class="replay" ng-click="replay($index)" ng-if="!item.returnDetail&&isUser">
                            <span class="replayicon"></span>
                            <span class="blueColor" ng-if="!showArr[$index]">回复</span>
                            <span class="blueColor" ng-if="showArr[$index]">取消回复</span>
                        </div>
                    </div>
                    <div class="replaydetail " maxheight ng-show="showArr[$index]" ng-if="!item.returnDetail" >
                        <textarea placeholder="回复{{item.company.companyName}}:（您只有一次回复机会，请珍惜喔！）" ng-model="replaydetail.value" ng-if="!item.anonymous"></textarea>
                        <textarea placeholder="回复***:（您只有一次回复机会，请珍惜喔！）" ng-model="replaydetail.value" ng-if="item.anonymous"></textarea>
                        <div class="replayword" ng-click="replayword(item)">发表</div>
                    </div>
                    <div class="replaydetail2 maxheight "  maxheight ng-if="item.returnDetail">
                        <span class="redFont"><%=companyInfo.companyName%> 回复 {{item.company.companyName}} : </span></br>
                        {{item.returnDetail}}
                    </div>
                </div>
            </div>
        </div>
        <div class="pageing" ng-if="dataList.length!==0">
            <pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" previous-text="上一页"
                        next-text="下一页"	id="pagination"	class="pagination-sm" boundary-links="true" rotate="true" num-pages="numPages" ng-change="pageChanged(bigCurrentPage)"
                        items-per-page="itemsPerPage"></pagination>
        </div>
    </div>
    <%}%>
    <div class="notice" ng-if="dataList.length==0" >
        <p>企业暂时还未收到任何评价！</p>
    </div>
</div>

