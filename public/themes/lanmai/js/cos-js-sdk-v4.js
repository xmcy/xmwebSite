!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=D.type(e);return"function"!==n&&!D.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=U[e]={};return D.each(e.match(P)||[],function(e,n){t[n]=!0}),t}function a(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",i,!1),e.removeEventListener("load",i,!1)):(B.detachEvent("onreadystatechange",i),e.detachEvent("onload",i))}function i(){(B.addEventListener||"load"===event.type||"complete"===B.readyState)&&(a(),D.ready())}function o(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(W,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:X.test(n)?D.parseJSON(n):n)}catch(e){}D.data(e,t,n)}else n=void 0}return n}function s(e){var t;for(t in e)if(("data"!==t||!D.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(D.acceptData(e)){var a,i,o=D.expando,s=e.nodeType,c=s?D.cache:e,u=s?e[o]:e[o]&&o;if(u&&c[u]&&(r||c[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[o]=x.pop()||D.guid++:o),c[u]||(c[u]=s?{}:{toJSON:D.noop}),"object"!=typeof t&&"function"!=typeof t||(r?c[u]=D.extend(c[u],t):c[u].data=D.extend(c[u].data,t)),i=c[u],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[D.camelCase(t)]=n),"string"==typeof t?null==(a=i[t])&&(a=i[D.camelCase(t)]):a=i,a}}function u(e,t,n){if(D.acceptData(e)){var r,a,i=e.nodeType,o=i?D.cache:e,c=i?e[D.expando]:D.expando;if(o[c]){if(t&&(r=n?o[c]:o[c].data)){D.isArray(t)?t=t.concat(D.map(t,D.camelCase)):t in r?t=[t]:(t=D.camelCase(t),t=t in r?[t]:t.split(" ")),a=t.length;for(;a--;)delete r[t[a]];if(n?!s(r):!D.isEmptyObject(r))return}(n||(delete o[c].data,s(o[c])))&&(i?D.cleanData([e],!0):k.deleteExpando||o!=o.window?delete o[c]:o[c]=null)}}}function p(){return!0}function l(){return!1}function f(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(P)||[];if(D.isFunction(n))for(;r=i[a++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function d(e,t,n,r){function a(s){var c;return i[s]=!0,D.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||o||i[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),c}var i={},o=e===ue;return a(t.dataTypes[0])||!i["*"]&&a("*")}function h(e,t){var n,r,a=D.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((a[r]?e:n||(n={}))[r]=t[r]);return n&&D.extend(!0,e,n),e}function g(e,t,n){for(var r,a,i,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}r||(r=o)}i=i||r}if(i)return i!==c[0]&&c.unshift(i),n[i]}function v(e,t,n,r){var a,i,o,s,c,u={},p=e.dataTypes.slice();if(p[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(i=p.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=p.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(o=u[c+" "+i]||u["* "+i]))for(a in u)if((s=a.split(" "))[1]===i&&(o=u[c+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[a]:!0!==u[a]&&(i=s[0],p.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}function y(e,t,n,r){var a;if(D.isArray(t))D.each(t,function(t,a){n||fe.test(e)?r(e,a):y(e+"["+("object"==typeof a?t:"")+"]",a,n,r)});else if(n||"object"!==D.type(t))r(e,t);else for(a in t)y(e+"["+a+"]",t[a],n,r)}function m(){try{return new e.XMLHttpRequest}catch(e){}}function b(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}var x=[],T=x.slice,j=x.concat,S=x.push,E=x.indexOf,w={},A=w.toString,C=w.hasOwnProperty,k={},_="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",D=function(e,t){return new D.fn.init(e,t)},F=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,O=/^-ms-/,L=/-([\da-z])/gi,R=function(e,t){return t.toUpperCase()};D.fn=D.prototype={jquery:_,constructor:D,selector:"",length:0,toArray:function(){return T.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:T.call(this)},pushStack:function(e){var t=D.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return D.each(this,e,t)},map:function(e){return this.pushStack(D.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(T.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:S,sort:x.sort,splice:x.splice},D.extend=D.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||D.isFunction(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(a=arguments[s]))for(r in a)e=o[r],n=a[r],o!==n&&(u&&n&&(D.isPlainObject(n)||(t=D.isArray(n)))?(t?(t=!1,i=e&&D.isArray(e)?e:[]):i=e&&D.isPlainObject(e)?e:{},o[r]=D.extend(u,i,n)):void 0!==n&&(o[r]=n));return o},D.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===D.type(e)},isArray:Array.isArray||function(e){return"array"===D.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!D.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==D.type(e)||e.nodeType||D.isWindow(e))return!1;try{if(e.constructor&&!C.call(e,"constructor")&&!C.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(k.ownLast)for(t in e)return C.call(e,t);for(t in e);return void 0===t||C.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?w[A.call(e)]||"object":typeof e},globalEval:function(t){t&&D.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(O,"ms-").replace(L,R)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var a=0,i=e.length,o=n(e);if(r){if(o)for(;a<i&&!1!==t.apply(e[a],r);a++);else for(a in e)if(!1===t.apply(e[a],r))break}else if(o)for(;a<i&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(F,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?D.merge(r,"string"==typeof e?[e]:e):S.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(E)return E.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;)e[a++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[a++]=t[r++];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,o=!n;a<i;a++)!t(e[a],a)!==o&&r.push(e[a]);return r},map:function(e,t,r){var a,i=0,o=e.length,s=[];if(n(e))for(;i<o;i++)null!=(a=t(e[i],i,r))&&s.push(a);else for(i in e)null!=(a=t(e[i],i,r))&&s.push(a);return j.apply([],s)},guid:1,proxy:function(e,t){var n,r,a;if("string"==typeof t&&(a=e[t],t=e,e=a),D.isFunction(e))return n=T.call(arguments,2),r=function(){return e.apply(t||this,n.concat(T.call(arguments)))},r.guid=e.guid=e.guid||D.guid++,r},now:function(){return+new Date},support:k}),D.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){w["[object "+t+"]"]=t.toLowerCase()});var H,B=e.document,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(D.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e))||!n[1]&&t)return!t||t.jquery?(t||H).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof D?t[0]:t,D.merge(this,D.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:B,!0)),rsingleTag.test(n[1])&&D.isPlainObject(t))for(n in t)D.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=B.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return H.find(e);this.length=1,this[0]=r}return this.context=B,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):D.isFunction(e)?void 0!==H.ready?H.ready(e):e(D):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),D.makeArray(e,this))}).prototype=D.fn,H=D(B);var P=/\S+/g,U={};D.Callbacks=function(e){var t,n,a,i,o,s,c=[],u=!(e="string"==typeof e?U[e]||r(e):D.extend({},e)).once&&[],p=function(r){for(n=e.memory&&r,a=!0,o=s||0,s=0,i=c.length,t=!0;c&&o<i;o++)if(!1===c[o].apply(r[0],r[1])&&e.stopOnFalse){n=!1;break}t=!1,c&&(u?u.length&&p(u.shift()):n?c=[]:l.disable())},l={add:function(){if(c){var r=c.length;!function t(n){D.each(n,function(n,r){var a=D.type(r);"function"===a?e.unique&&l.has(r)||c.push(r):r&&r.length&&"string"!==a&&t(r)})}(arguments),t?i=c.length:n&&(s=r,p(n))}return this},remove:function(){return c&&D.each(arguments,function(e,n){for(var r;(r=D.inArray(n,c,r))>-1;)c.splice(r,1),t&&(r<=i&&i--,r<=o&&o--)}),this},has:function(e){return e?D.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],i=0,this},disable:function(){return c=u=n=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,n||l.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!c||a&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):p(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!a}};return l},D.extend({Deferred:function(e){var t=[["resolve","done",D.Callbacks("once memory"),"resolved"],["reject","fail",D.Callbacks("once memory"),"rejected"],["notify","progress",D.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return D.Deferred(function(n){D.each(t,function(t,i){var o=D.isFunction(e[t])&&e[t];a[i[1]](function(){var e=o&&o.apply(this,arguments);e&&D.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?D.extend(e,r):r}},a={};return r.pipe=r.then,D.each(t,function(e,i){var o=i[2],s=i[3];r[i[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[i[0]]=function(){return a[i[0]+"With"](this===a?r:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,r,a=0,i=T.call(arguments),o=i.length,s=1!==o||e&&D.isFunction(e.promise)?o:0,c=1===s?e:D.Deferred(),u=function(e,n,r){return function(a){n[e]=this,r[e]=arguments.length>1?T.call(arguments):a,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);a<o;a++)i[a]&&D.isFunction(i[a].promise)?i[a].promise().done(u(a,r,i)).fail(c.reject).progress(u(a,n,t)):--s;return s||c.resolveWith(r,i),c.promise()}});var q;D.fn.ready=function(e){return D.ready.promise().done(e),this},D.extend({isReady:!1,readyWait:1,holdReady:function(e){e?D.readyWait++:D.ready(!0)},ready:function(e){if(!0===e?!--D.readyWait:!D.isReady){if(!B.body)return setTimeout(D.ready);D.isReady=!0,!0!==e&&--D.readyWait>0||(q.resolveWith(B,[D]),D.fn.triggerHandler&&(D(B).triggerHandler("ready"),D(B).off("ready")))}}}),D.ready.promise=function(t){if(!q)if(q=D.Deferred(),"complete"===B.readyState)setTimeout(D.ready);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",i,!1),e.addEventListener("load",i,!1);else{B.attachEvent("onreadystatechange",i),e.attachEvent("onload",i);var n=!1;try{n=null==e.frameElement&&B.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!D.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),D.ready()}}()}return q.promise(t)};var z,M="undefined";for(z in D(k))break;k.ownLast="0"!==z,k.inlineBlockNeedsLayout=!1,D(function(){var e,t,n,r;(n=B.getElementsByTagName("body")[0])&&n.style&&(t=B.createElement("div"),r=B.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==M&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=B.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete e.test}catch(e){k.deleteExpando=!1}}e=null}(),D.acceptData=function(e){var t=D.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,W=/([A-Z])/g;D.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?D.cache[e[D.expando]]:e[D.expando])&&!s(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),D.fn.extend({data:function(e,t){var n,r,a,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(a=D.data(i),1===i.nodeType&&!D._data(i,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=D.camelCase(r.slice(5)),o(i,r,a[r]));D._data(i,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){D.data(this,e)}):arguments.length>1?this.each(function(){D.data(this,e,t)}):i?o(i,e,D.data(i,e)):void 0},removeData:function(e){return this.each(function(){D.removeData(this,e)})}}),D.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=D._data(e,t),n&&(!r||D.isArray(n)?r=D._data(e,t,D.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=D.queue(e,t),r=n.length,a=n.shift(),i=D._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,function(){D.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return D._data(e,n)||D._data(e,n,{empty:D.Callbacks("once memory").add(function(){D._removeData(e,t+"queue"),D._removeData(e,n)})})}}),D.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?D.queue(this[0],e):void 0===t?this:this.each(function(){var n=D.queue(this,e,t);D._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&D.dequeue(this,e)})},dequeue:function(e){return this.each(function(){D.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=D.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=D._data(i[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}}),D.event={global:{},add:function(e,t,n,r,a){var i,o,s,c,u,p,l,f,d,h,g,v=D._data(e);if(v){for(n.handler&&(c=n,n=c.handler,a=c.selector),n.guid||(n.guid=D.guid++),(o=v.events)||(o=v.events={}),(p=v.handle)||(p=v.handle=function(e){return typeof D===M||e&&D.event.triggered===e.type?void 0:D.event.dispatch.apply(p.elem,arguments)},p.elem=e),s=(t=(t||"").match(P)||[""]).length;s--;)i=G.exec(t[s])||[],d=g=i[1],h=(i[2]||"").split(".").sort(),d&&(u=D.event.special[d]||{},d=(a?u.delegateType:u.bindType)||d,u=D.event.special[d]||{},l=D.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&D.expr.match.needsContext.test(a),namespace:h.join(".")},c),(f=o[d])||(f=o[d]=[],f.delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,p)||(e.addEventListener?e.addEventListener(d,p,!1):e.attachEvent&&e.attachEvent("on"+d,p))),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,l):f.push(l),D.event.global[d]=!0);e=null}},remove:function(e,t,n,r,a){var i,o,s,c,u,p,l,f,d,h,g,v=D.hasData(e)&&D._data(e);if(v&&(p=v.events)){for(u=(t=(t||"").match(P)||[""]).length;u--;)if(s=G.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(l=D.event.special[d]||{},f=p[d=(r?l.delegateType:l.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=i=f.length;i--;)o=f[i],!a&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(f.splice(i,1),o.selector&&f.delegateCount--,l.remove&&l.remove.call(e,o));c&&!f.length&&(l.teardown&&!1!==l.teardown.call(e,h,v.handle)||D.removeEvent(e,d,v.handle),delete p[d])}else for(d in p)D.event.remove(e,d+t[u],n,r,!0);D.isEmptyObject(p)&&(delete v.handle,D._removeData(e,"events"))}},trigger:function(t,n,r,a){var i,o,s,c,u,p,l,f=[r||B],d=C.call(t,"type")?t.type:t,h=C.call(t,"namespace")?t.namespace.split("."):[];if(s=p=r=r||B,3!==r.nodeType&&8!==r.nodeType&&!J.test(d+D.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),o=d.indexOf(":")<0&&"on"+d,t=t[D.expando]?t:new D.Event(d,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:D.makeArray(n,[t]),u=D.event.special[d]||{},a||!u.trigger||!1!==u.trigger.apply(r,n))){if(!a&&!u.noBubble&&!D.isWindow(r)){for(c=u.delegateType||d,J.test(c+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),p=s;p===(r.ownerDocument||B)&&f.push(p.defaultView||p.parentWindow||e)}for(l=0;(s=f[l++])&&!t.isPropagationStopped();)t.type=l>1?c:u.bindType||d,(i=(D._data(s,"events")||{})[t.type]&&D._data(s,"handle"))&&i.apply(s,n),(i=o&&s[o])&&i.apply&&D.acceptData(s)&&(t.result=i.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=d,!a&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),n))&&D.acceptData(r)&&o&&r[d]&&!D.isWindow(r)){(p=r[o])&&(r[o]=null),D.event.triggered=d;try{r[d]()}catch(e){}D.event.triggered=void 0,p&&(r[o]=p)}return t.result}},dispatch:function(e){e=D.event.fix(e);var t,n,r,a,i,o=[],s=T.call(arguments),c=(D._data(this,"events")||{})[e.type]||[],u=D.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=D.event.handlers.call(this,e,c),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,i=0;(r=a.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((D.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,a,i,o=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(a=[],i=0;i<s;i++)r=t[i],n=r.selector+" ",void 0===a[n]&&(a[n]=r.needsContext?D(n,this).index(c)>=0:D.find(n,this,null,[c]).length),a[n]&&a.push(r);a.length&&o.push({elem:c,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[D.expando])return e;var t,n,r,a=e.type,i=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Y.test(a)?this.mouseHooks:$.test(a)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new D.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,a,i=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||B,a=r.documentElement,n=r.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(D.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return D.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var a=D.extend(new D.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?D.event.trigger(a,null,t):D.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},D.removeEvent=B.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===M&&(e[r]=null),e.detachEvent(r,n))},D.Event=function(e,t){return this instanceof D.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?p:l):this.type=e,t&&D.extend(this,t),this.timeStamp=e&&e.timeStamp||D.now(),void(this[D.expando]=!0)):new D.Event(e,t)};var I=/^(?:input|select|textarea)$/i,$=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;D.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},k.submitBubbles||(D.event.special.submit={setup:function(){return!D.nodeName(this,"form")&&void D.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=D.nodeName(t,"input")||D.nodeName(t,"button")?t.form:void 0;n&&!D._data(n,"submitBubbles")&&(D.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),D._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&D.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!D.nodeName(this,"form")&&void D.event.remove(this,"._submit")}}),k.changeBubbles||(D.event.special.change={setup:function(){return I.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(D.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),D.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),D.event.simulate("change",this,e,!0)})),!1):void D.event.add(this,"beforeactivate._change",function(e){var t=e.target;I.test(t.nodeName)&&!D._data(t,"changeBubbles")&&(D.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||D.event.simulate("change",this.parentNode,e,!0)}),D._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return D.event.remove(this,"._change"),!I.test(this.nodeName)}}),k.focusinBubbles||D.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){D.event.simulate(t,e.target,D.event.fix(e),!0)};D.event.special[t]={setup:function(){var r=this.ownerDocument||this,a=D._data(r,t);a||r.addEventListener(e,n,!0),D._data(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=D._data(r,t)-1;a?D._data(r,t,a):(r.removeEventListener(e,n,!0),D._removeData(r,t))}}}),D.fn.extend({on:function(e,t,n,r,a){var i,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(i in e)this.on(i,t,n,e[i],a);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=l;else if(!r)return this;return 1===a&&(o=r,r=function(e){return D().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=D.guid++)),this.each(function(){D.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,D(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=l),this.each(function(){D.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){D.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return D.event.trigger(e,t,n,!0)}}),D.fn.delay=function(e,t){return e=D.fx?D.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})};var Q=D.now(),K=/\?/,V=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;D.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,a=D.trim(t+"");return a&&!D.trim(a.replace(V,function(e,t,a,i){return n&&t&&(r=0),0===r?e:(n=a||t,r+=!i-!a,"")}))?Function("return "+a)():D.error("Invalid JSON: "+t)},D.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||D.error("Invalid XML: "+t),n};var Z,ee,te=/#.*$/,ne=/([?&])_=[^&]*/,re=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ae=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ie=/^(?:GET|HEAD)$/,oe=/^\/\//,se=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ce={},ue={},pe="*/".concat("*");try{ee=location.href}catch(e){(ee=B.createElement("a")).href="",ee=ee.href}Z=se.exec(ee.toLowerCase())||[],D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ee,type:"GET",isLocal:ae.test(Z[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":D.parseJSON,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?h(h(e,D.ajaxSettings),t):h(D.ajaxSettings,e)},ajaxPrefilter:f(ce),ajaxTransport:f(ue),ajax:function(e,t){function n(e,t,n,r){var a,p,d,x,T,S=t;2!==j&&(j=2,s&&clearTimeout(s),u=void 0,o=r||"",E.readyState=e>0?4:0,a=e>=200&&e<300||304===e,n&&(x=g(l,E,n)),x=v(l,x,E,a),a?(l.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(D.lastModified[i]=T),(T=E.getResponseHeader("etag"))&&(D.etag[i]=T)),204===e||"HEAD"===l.type?S="nocontent":304===e?S="notmodified":(S=x.state,p=x.data,d=x.error,a=!d)):(d=S,!e&&S||(S="error",e<0&&(e=0))),E.status=e,E.statusText=(t||S)+"",a?y.resolveWith(f,[p,S,E]):y.rejectWith(f,[E,S,d]),E.statusCode(b),b=void 0,c&&h.trigger(a?"ajaxSuccess":"ajaxError",[E,l,a?p:d]),m.fireWith(f,[E,S]),c&&(h.trigger("ajaxComplete",[E,l]),--D.active||D.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,a,i,o,s,c,u,p,l=D.ajaxSetup({},t),f=l.context||l,h=l.context&&(f.nodeType||f.jquery)?D(f):D.event,y=D.Deferred(),m=D.Callbacks("once memory"),b=l.statusCode||{},x={},T={},j=0,S="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===j){if(!p)for(p={};t=re.exec(o);)p[t[1].toLowerCase()]=t[2];t=p[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===j?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return j||(e=T[n]=T[n]||e,x[e]=t),this},overrideMimeType:function(e){return j||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(j<2)for(t in e)b[t]=[b[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||S;return u&&u.abort(t),n(0,t),this}};if(y.promise(E).complete=m.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||ee)+"").replace(te,"").replace(oe,Z[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=D.trim(l.dataType||"*").toLowerCase().match(P)||[""],null==l.crossDomain&&(r=se.exec(l.url.toLowerCase()),l.crossDomain=!(!r||r[1]===Z[1]&&r[2]===Z[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Z[3]||("http:"===Z[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=D.param(l.data,l.traditional)),d(ce,l,t,E),2===j)return E;(c=l.global)&&0==D.active++&&D.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!ie.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(K.test(i)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=ne.test(i)?i.replace(ne,"$1_="+Q++):i+(K.test(i)?"&":"?")+"_="+Q++)),l.ifModified&&(D.lastModified[i]&&E.setRequestHeader("If-Modified-Since",D.lastModified[i]),D.etag[i]&&E.setRequestHeader("If-None-Match",D.etag[i])),(l.data&&l.hasContent&&!1!==l.contentType||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+pe+"; q=0.01":""):l.accepts["*"]);for(a in l.headers)E.setRequestHeader(a,l.headers[a]);if(l.beforeSend&&(!1===l.beforeSend.call(f,E,l)||2===j))return E.abort();S="abort";for(a in{success:1,error:1,complete:1})E[a](l[a]);if(u=d(ue,l,t,E)){E.readyState=1,c&&h.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(s=setTimeout(function(){E.abort("timeout")},l.timeout));try{j=1,u.send(x,n)}catch(e){if(!(j<2))throw e;n(-1,e)}}else n(-1,"No Transport");return E},getJSON:function(e,t,n){return D.get(e,t,n,"json")},getScript:function(e,t){return D.get(e,void 0,t,"script")}}),D.each(["get","post"],function(e,t){D[t]=function(e,n,r,a){return D.isFunction(n)&&(a=a||r,r=n,n=void 0),D.ajax({url:e,type:t,dataType:a,data:n,success:r})}}),D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){D.fn[t]=function(e){return this.on(t,e)}}),D._evalUrl=function(e){return D.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};var le=/%20/g,fe=/\[\]$/,de=/\r?\n/g,he=/^(?:submit|button|image|reset|file)$/i,ge=/^(?:input|select|textarea|keygen)/i;D.param=function(e,t){var n,r=[],a=function(e,t){t=D.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=D.ajaxSettings&&D.ajaxSettings.traditional),D.isArray(e)||e.jquery&&!D.isPlainObject(e))D.each(e,function(){a(this.name,this.value)});else for(n in e)y(n,e[n],t,a);return r.join("&").replace(le,"+")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=D.prop(this,"elements");return e?D.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!D(this).is(":disabled")&&ge.test(this.nodeName)&&!he.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=D(this).val();return null==n?null:D.isArray(n)?D.map(n,function(e){return{name:t.name,value:e.replace(de,"\r\n")}}):{name:t.name,value:n.replace(de,"\r\n")}}).get()}}),D.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&m()||b()}:m;var ve=0,ye={},me=D.ajaxSettings.xhr();e.ActiveXObject&&D(e).on("unload",function(){for(var e in ye)ye[e](void 0,!0)}),k.cors=!!me&&"withCredentials"in me,(me=k.ajax=!!me)&&D.ajaxTransport(function(e){if(!e.crossDomain||k.cors){var t;return{send:function(n,r){var a,i=e.xhr(),o=++ve;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)i[a]=e.xhrFields[a];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)void 0!==n[a]&&i.setRequestHeader(a,n[a]+"");i.send(e.hasContent&&e.data||null),t=function(n,a){var s,c,u;if(t&&(a||4===i.readyState))if(delete ye[o],t=void 0,i.onreadystatechange=D.noop,a)4!==i.readyState&&i.abort();else{u={},s=i.status,"string"==typeof i.responseText&&(u.text=i.responseText);try{c=i.statusText}catch(e){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,c,u,i.getAllResponseHeaders())},e.async?4===i.readyState?setTimeout(t):i.onreadystatechange=ye[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return D.globalEval(e),e}}}),D.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),D.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=B.head||D("head")[0]||B.documentElement;return{send:function(r,a){(t=B.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var be=[],xe=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=be.pop()||D.expando+"_"+Q++;return this[e]=!0,e}}),D.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,o,s=!1!==t.jsonp&&(xe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=D.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(xe,"$1"+a):!1!==t.jsonp&&(t.url+=(K.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||D.error(a+" was not called"),o[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){o=arguments},r.always(function(){e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,be.push(a)),o&&D.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),D.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||B;var r=rsingleTag.exec(e),a=!n&&[];return r?[t.createElement(r[1])]:(r=D.buildFragment([e],t,a),a&&a.length&&D(a).remove(),D.merge([],r.childNodes))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return D});var Te=e.jQuery,je=e.$;return D.noConflict=function(t){return e.$===D&&(e.$=je),t&&e.jQuery===D&&(e.jQuery=Te),D},typeof t===M&&(e.jQuery=e.$=D),D}),function(e){function t(e,t,c){var u,p,h,g,v,y,m,b,x,T=0,j=[],S=0,E=!1,w=[],A=[],C=!1;if(c=c||{},u=c.encoding||"UTF8",(x=c.numRounds||1)!==parseInt(x,10)||1>x)throw Error("numRounds must a integer >= 1");if("SHA-1"!==e)throw Error("Chosen SHA variant is not supported");v=512,y=f,m=d,g=160,b=function(e){return e.slice()},h=s(t,u),p=l(e),this.setHMACKey=function(t,n,r){if(!0===E)throw Error("HMAC key already set");if(!0===C)throw Error("Cannot set HMAC key after calling update");if(u=(r||{}).encoding||"UTF8",n=s(n,u)(t),t=n.binLen,n=n.value,64,r=15,64<t/8){for(n=m(n,t,0,l(e),g);n.length<=r;)n.push(0);n[r]&=4294967040}else if(64>t/8){for(;n.length<=r;)n.push(0);n[r]&=4294967040}for(t=0;t<=r;t+=1)w[t]=909522486^n[t],A[t]=1549556828^n[t];p=y(w,p),T=v,E=!0},this.update=function(e){var t,n,r,a=0;for(e=(t=h(e,j,S)).binLen,n=t.value,t=e>>>5,r=0;r<t;r+=16)a+v<=e&&(p=y(n.slice(r,r+16),p),a+=v);T+=a,j=n.slice(a>>>5),S=e%v,C=!0;return function(e){for(var t="",n=0;n<5;n++)for(var r=0;r<4;r++){var a=e[n]>>>8*r;a&=255;var i=Number(a).toString(16);t+=i=i.length<2?"0"+i:i}return t}(p)},this.getHash=function(t,s){var c,u,f,d;if(!0===E)throw Error("Cannot call getHash after setting HMAC key");switch(f=o(s),t){case"HEX":c=function(e){return n(e,g,f)};break;case"B64":c=function(e){return r(e,g,f)};break;case"BYTES":c=function(e){return a(e,g)};break;case"ARRAYBUFFER":try{u=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}c=function(e){return i(e,g)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(d=m(j.slice(),S,T,b(p),g),u=1;u<x;u+=1)d=m(d,g,0,l(e),g);return c(d)},this.getHMAC=function(t,s){var c,u,f,d;if(!1===E)throw Error("Cannot call getHMAC without first setting HMAC key");switch(f=o(s),t){case"HEX":c=function(e){return n(e,g,f)};break;case"B64":c=function(e){return r(e,g,f)};break;case"BYTES":c=function(e){return a(e,g)};break;case"ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}c=function(e){return i(e,g)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return u=m(j.slice(),S,T,b(p),g),d=y(A,l(e)),d=m(u,g,v,d,g),c(d)}}function n(e,t,n){var r="";t/=8;var a,i;for(a=0;a<t;a+=1)i=e[a>>>2]>>>8*(3+a%4*-1),r+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return n.outputUpper?r.toUpperCase():r}function r(e,t,n){var r,a,i,o="",s=t/8;for(r=0;r<s;r+=3)for(a=r+1<s?e[r+1>>>2]:0,i=r+2<s?e[r+2>>>2]:0,i=(e[r>>>2]>>>8*(3+r%4*-1)&255)<<16|(a>>>8*(3+(r+1)%4*-1)&255)<<8|i>>>8*(3+(r+2)%4*-1)&255,a=0;4>a;a+=1)o+=8*r+6*a<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-a)&63):n.b64Pad;return o}function a(e,t){var n,r,a="",i=t/8;for(n=0;n<i;n+=1)r=e[n>>>2]>>>8*(3+n%4*-1)&255,a+=String.fromCharCode(r);return a}function i(e,t){var n,r=t/8,a=new ArrayBuffer(r);for(n=0;n<r;n+=1)a[n]=e[n>>>2]>>>8*(3+n%4*-1)&255;return a}function o(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),"boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function s(e,t){var n;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":n=function(e,t,n){var r,a,i,o,s,c=e.length;if(0!=c%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],s=(n=n||0)>>>3,r=0;r<c;r+=2){if(a=parseInt(e.substr(r,2),16),isNaN(a))throw Error("String of HEX type contains invalid characters");for(i=(o=(r>>>1)+s)>>>2;t.length<=i;)t.push(0);t[i]|=a<<8*(3+o%4*-1)}return{value:t,binLen:4*c+n}};break;case"TEXT":n=function(e,n,r){var a,i,o,s,c,u,p,l,f=0;if(n=n||[0],r=r||0,c=r>>>3,"UTF8"===t)for(l=3,o=0;o<e.length;o+=1)for(a=e.charCodeAt(o),i=[],128>a?i.push(a):2048>a?(i.push(192|a>>>6),i.push(128|63&a)):55296>a||57344<=a?i.push(224|a>>>12,128|a>>>6&63,128|63&a):(o+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(o)),i.push(240|a>>>18,128|a>>>12&63,128|a>>>6&63,128|63&a)),s=0;s<i.length;s+=1){for(u=(p=f+c)>>>2;n.length<=u;)n.push(0);n[u]|=i[s]<<8*(l+p%4*-1),f+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(l=2,o=0;o<e.length;o+=1){for(a=e.charCodeAt(o),"UTF16LE"===t&&(s=255&a,a=s<<8|a>>>8),u=(p=f+c)>>>2;n.length<=u;)n.push(0);n[u]|=a<<8*(l+p%4*-1),f+=2}return{value:n,binLen:8*f+r}};break;case"B64":n=function(e,t,n){var r,a,i,o,s,c,u,p=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(a=e.indexOf("="),e=e.replace(/\=/g,""),-1!==a&&a<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],c=(n=n||0)>>>3,a=0;a<e.length;a+=4){for(s=e.substr(a,4),i=o=0;i<s.length;i+=1)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[i]),o|=r<<18-6*i;for(i=0;i<s.length-1;i+=1){for(r=(u=p+c)>>>2;t.length<=r;)t.push(0);t[r]|=(o>>>16-8*i&255)<<8*(3+u%4*-1),p+=1}}return{value:t,binLen:8*p+n}};break;case"BYTES":n=function(e,t,n){var r,a,i,o,s;for(t=t||[0],i=(n=n||0)>>>3,a=0;a<e.length;a+=1)r=e.charCodeAt(a),s=a+i,o=s>>>2,t.length<=o&&t.push(0),t[o]|=r<<8*(3+s%4*-1);return{value:t,binLen:8*e.length+n}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e,t,n){var r,a,i,o;for(t=t||[0],a=(n=n||0)>>>3,r=0;r<e.byteLength;r+=1)o=r+a,i=o>>>2,t.length<=i&&t.push(0),t[i]|=e[r]<<8*(3+o%4*-1);return{value:t,binLen:8*e.byteLength+n}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return n}function c(e,t){return e<<t|e>>>32-t}function u(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function p(e,t,n,r,a){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&a);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(a>>>16)+(i>>>16)&65535)<<16|65535&i}function l(e){if("SHA-1"!==e)throw Error("No SHA variants supported");return[1732584193,4023233417,2562383102,271733878,3285377520]}function f(e,t){var n,r,a,i,o,s,l,f=[];for(n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],l=0;80>l;l+=1)f[l]=16>l?e[l]:c(f[l-3]^f[l-8]^f[l-14]^f[l-16],1),s=20>l?p(c(n,5),r&a^~r&i,o,1518500249,f[l]):40>l?p(c(n,5),r^a^i,o,1859775393,f[l]):60>l?p(c(n,5),r&a^r&i^a&i,o,2400959708,f[l]):p(c(n,5),r^a^i,o,3395469782,f[l]),o=i,i=a,a=c(r,30),r=n,n=s;return t[0]=u(n,t[0]),t[1]=u(r,t[1]),t[2]=u(a,t[2]),t[3]=u(i,t[3]),t[4]=u(o,t[4]),t}function d(e,t,n,r){var a;for(a=15+(t+65>>>9<<4);e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[a]=4294967295&t,e[a-1]=t/4294967296|0,t=e.length,a=0;a<t;a+=16)r=f(e.slice(a,a+16),r);return r}"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=t),exports=t):e.jsSHA=t}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&(define.amd||define.cmd)?define(t):e.CosCloud=t()}(this,function(){"use strict";function e(e){this.appid=e.appid,this.bucket=e.bucket,this.region=e.region,e.getAppSign&&(this.getAppSign=t(e.getAppSign,this)),e.getAppSignOnce&&(this.getAppSignOnce=t(e.getAppSignOnce,this))}function t(e,t){return function(n){e.call(t,function(e){decodeURIComponent(e)===e&&(e=encodeURIComponent(e)),n(e)})}}function n(e,t){if(!e)return"";var n=this;return e=e.replace(/(^\/*)|(\/*$)/g,""),e="folder"==t?encodeURIComponent(e+"/").replace(/%2F/g,"/"):encodeURIComponent(e).replace(/%2F/g,"/"),n&&(n.path="/"+n.appid+"/"+n.bucket+"/"+e),e}function r(e){var t=c.Deferred(),n=new window.jsSHA("SHA-1","BYTES"),r=0,a=e.sliceSize,i=new FileReader,o=[],s=e.file;return i.readAsBinaryString(s.slice(r,r+a)),i.onload=function(e){if(!(null==s||s.length<1)){var c=n.update(e.target.result),u=a;if(u+r>=s.size?u=s.size-r:o.push({offset:r,datalen:u,datasha:c}),(r+=a)<s.size){var p=r+a;p>s.size&&(p=s.size),i.readAsBinaryString(s.slice(r,p))}else{var l=n.getHash("HEX");o.push({offset:r-a,datalen:u,datasha:l}),t.resolve(o)}}},i.onerror=function(){t.reject()},t.promise()}function a(e){var t=c.Deferred(),n=e.file,r=this,a=this.getCgiUrl(e.path,e.sign),o=new FormData,s=e.uploadparts;return o.append("uploadparts",JSON.stringify(s)),o.append("sha",e.sha),o.append("op","upload_slice_init"),o.append("filesize",n.size),o.append("slice_size",e.sliceSize),o.append("biz_attr",e.biz_attr),o.append("insertOnly",e.insertOnly),c.ajax({type:"POST",dataType:"JSON",url:a,data:o,success:function(n){if(0==(n=n||{}).code){if(n.data.access_url)return void t.resolve(n);var a=n.data.session,o=parseInt(n.data.slice_size),s=n.data.offset||0;e.session=a,e.slice_size=o,e.offset=s,i.call(r,e).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)})}else t.reject(n)},error:function(){t.reject()},processData:!1,contentType:!1}),t.promise()}function i(e){var t=this,n=c.Deferred(),r=new FormData,a=e.file,o=e.offset||0,s=e.slice_size,u=e.session,p=a.size,l=o+s;return r.append("sliceSize",s),r.append("op","upload_slice_data"),r.append("session",u),r.append("offset",o),e.sha&&r.append("sha",e.sha),r.append("fileContent",t.slice.call(a,o,l)),t.getAppSign(function(u){e.sign=u;var l=t.getCgiUrl(e.path,e.sign);c.ajax({type:"POST",dataType:"JSON",url:l,data:r,xhr:function(){var t=c.ajaxSettings.xhr();return t.upload.onprogress=function(t){var n=(o+t.loaded)/a.size;n>1&&(n=1),"function"==typeof e.onprogress&&e.onprogress(n)},t},success:function(r){if(0==(r=r||{}).code){var a=r.data.offset+s;a<p?(e.offset=a,i.call(t,e).done(function(e){n.resolve(e)}).fail(function(){n.reject()})):("function"==typeof e.onprogress&&e.onprogress(1),n.resolve(r))}else n.reject(r)},error:function(){n.reject()},processData:!1,contentType:!1})}),n.promise()}function o(e){var t=this,n=c.Deferred(),r=e.file;return t.getAppSign(function(a){e.sign=a;var i=t.getCgiUrl(e.path,e.sign),o=new FormData;o.append("op","upload_slice_list"),c.ajax({type:"POST",dataType:"JSON",url:i,data:o,success:function(t){if(0==(t=t||{}).code){e.session=t.data.session,e.slice_size=t.data.slice_size;var a=t.data.listparts||[];e.listparts=a;var i=a.length;if(i){var o=e.listparts[i-1].offset;if(o+e.slice_size>=r.size)return n.resolve(),n.promise();e.offset=o}n.resolve(t)}else n.reject(t)},error:function(){n.reject()},processData:!1,contentType:!1})}),n.promise()}function s(e){var t=this,n=c.Deferred(),r=e.file;return t.getAppSign(function(a){e.sign=a;var i=e.session,o=t.getCgiUrl(e.path,e.sign),s=new FormData;e.sha&&s.append("sha",e.sha),s.append("op","upload_slice_finish"),s.append("filesize",r.size),s.append("session",i),c.ajax({type:"POST",dataType:"JSON",url:o,data:s,success:function(e){0==(e=e||{}).code?n.resolve(e):n.reject(e)},error:function(){n.reject()},processData:!1,contentType:!1})}),n.promise()}var c=window.jQuery.noConflict(!0),u=524288,p=1048576;return e.prototype.cosapi_cgi_url="//REGION.file.myqcloud.com/files/v2/",e.prototype.slice=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,e.prototype.sliceSize=3145728,e.prototype.getExpired=function(e){return(new Date).getTime()/1e3+(e||60)},e.prototype.getSliceSize=function(e){return e<=u?u:p},e.prototype.set=function(e){e&&(this.appid=e.appid,this.bucket=e.bucket,this.region=e.region,e.getAppSign&&(this.getAppSign=e.getAppSign),e.getAppSignOnce&&(this.getAppSignOnce=e.getAppSignOnce))},e.prototype.getCgiUrl=function(e,t){var n=this.region,r=this.bucket,a=this.cosapi_cgi_url;return(a=a.replace("REGION",n))+this.appid+"/"+r+"/"+e+"?sign="+t},e.prototype.getAppSign=function(e,t,n){var r=this.getExpired(),a=this.sign_url+"?sign_type=appSign&expired="+r+"&bucketName="+n;c.ajax({url:a,type:"GET",success:e,error:t})},e.prototype.getAppSignOnce=function(e,t,n,r){var a=this.sign_url+"?sign_type=appSign_once&path="+encodeURIComponent(n)+"&bucketName="+r;c.ajax({url:a,type:"GET",success:e,error:t})},e.prototype.updateFolder=function(e,t,r,a,i){a=n.call(this,a,"folder"),this.updateBase(e,t,r,a,i)},e.prototype.updateFile=function(e,t,r,a,i){a=n.call(this,a),this.updateBase(e,t,r,a,i)},e.prototype.updateBase=function(e,t,n,r,a,i,o){var s=this;s.getAppSignOnce(function(n){var u=s.getCgiUrl(r,n),p=new FormData;p.append("op","update"),a&&p.append("biz_attr",a),i&&p.append("authority",i),o&&(o=JSON.stringify(o),p.append("customHeaders",o)),c.ajax({type:"POST",url:u,processData:!1,contentType:!1,data:p,success:e,error:t})})},e.prototype.deleteFolder=function(e,t,r,a){a=n.call(this,a,"folder"),this.deleteBase(e,t,r,a)},e.prototype.deleteFile=function(e,t,r,a){a=n.call(this,a),this.deleteBase(e,t,r,a)},e.prototype.deleteBase=function(e,t,n,r){if("/"!=r){var a=this;this.getAppSignOnce(function(n){var i=a.getCgiUrl(r,n),o=new FormData;o.append("op","delete"),c.ajax({type:"POST",url:i,data:o,processData:!1,contentType:!1,success:e,error:t})})}else t({code:10003,message:"不能删除Bucket"})},e.prototype.getFolderStat=function(e,t,r,a){a=n(a,"folder"),this.statBase(e,t,r,a)},e.prototype.getFileStat=function(e,t,r,a){a=n(a),this.statBase(e,t,r,a)},e.prototype.statBase=function(e,t,n,r){var a=this;this.getAppSign.call(a,function(n){var i=a.getCgiUrl(r,n),o={op:"stat"};c.ajax({url:i,type:"GET",data:o,success:e,error:t})})},e.prototype.createFolder=function(e,t,r,a,i){var o=this;this.getAppSign(function(r){a=n(a,"folder");var s=o.getCgiUrl(a,r),u=new FormData;u.append("op","create"),u.append("biz_attr",i||""),c.ajax({type:"POST",url:s,data:u,processData:!1,contentType:!1,success:e,error:t})})},e.prototype.copyFile=function(e,t,r,a,i,o){var s=this;this.getAppSign(function(r){a=n(a);var u=s.getCgiUrl(a,r),p=new FormData;p.append("op","copy"),p.append("dest_fileid",i),p.append("to_over_write",o),c.ajax({type:"POST",url:u,data:p,processData:!1,contentType:!1,success:e,error:t})})},e.prototype.moveFile=function(e,t,r,a,i,o){var s=this;this.getAppSign(function(r){a=n(a);var u=s.getCgiUrl(a,r),p=new FormData;p.append("op","move"),p.append("dest_fileid",i),p.append("to_over_write",o),c.ajax({type:"POST",url:u,data:p,processData:!1,contentType:!1,success:e,error:t})})},e.prototype.getFolderList=function(e,t,r,a,i,o,s,c,u){var p=this;a=n(a,"folder"),p.listBase(e,t,r,a,i,o,s,c)},e.prototype.listBase=function(e,t,n,r,a,i,o,s,u){var p=this;p.getAppSign(function(n){var u=p.getCgiUrl(r,n),l={op:"list",num:a=a||20,context:i,order:o=o||0,pattern:s=s||"eListBoth"};c.ajax({url:u,type:"GET",data:l,success:e,error:t})})},e.prototype.uploadFile=function(e,t,r,a,i,o,s){var u=this;return i=n(i),o.size>20971520?void u.sliceUploadFile.apply(u,arguments):void u.getAppSign(function(n){var a=u.getCgiUrl(i,n),p=new FormData;p.append("op","upload"),p.append("fileContent",o),s>=0&&p.append("insertOnly",s),c.ajax({type:"POST",url:a,data:p,processData:!1,contentType:!1,xhr:function(){var e=c.ajaxSettings.xhr();return e.upload.onprogress=function(e){var t=e.loaded/e.total;"function"==typeof r&&r(t)},e},success:e,error:t})})},e.prototype.sliceUploadFile=function(e,t,c,u,p,l,f,d,h){var g=this;p=n(p),g.getAppSign(function(n){var v={};d=g.getSliceSize(d),v.onprogress=c,v.bucket=u,v.path=p,v.file=l,v.insertOnly=f,v.sliceSize=d||1048576,v.appid=g.appid,v.sign=n,v.biz_attr=h||"",o.call(g,v).always(function(n){var o=(n=n||{}).data;if(o&&o.session){v.session=o.session;var c=v.listparts;if(c&&c.length){v.listparts=c;var u=c.length;v.offset=c[u-1].offset}r.call(g,v).done(function(n){v.uploadparts=n;var r=n.length;v.sha=n[r-1].datasha,i.call(g,v).done(function(){s.call(g,v).done(function(t){e(t)}).fail(function(e){t({code:-1,message:e.message||"slice finish error"})})}).fail(function(e){t({code:-1,message:e.message||"slice upload file error"})})}).fail(function(){t({code:-1,message:"get slice sha1 error"})})}else o&&o.access_url?("function"==typeof v.onprogress&&v.onprogress(1),e(n)):r.call(g,v).done(function(n){v.uploadparts=n;var r=n.length;v.sha=n[r-1].datasha,a.call(g,v).done(function(n){var r=(n=n||{}).data||{};r&&r.access_url?("function"==typeof v.onprogress&&v.onprogress(1),e(n)):s.call(g,v).done(function(t){e(t)}).fail(function(e){t({code:-1,message:e.message||"slice finish error"})})}).fail(function(e){t({code:(e=e||{}).code||-1,message:e.message||"upload slice file error"})})}).fail(function(){t({code:-1,message:"get slice sha1 error"})})})})},e});